# Repository Guidelines

## Project Structure & Module Organization
- `src/`: React + TypeScript app code. Use `components/`, `pages/`, `utils/`, and `types.ts` for shared types.
- `public/`: Static assets and blog JSON generated by scripts.
- `scripts/`: Build helpers (sitemap, blog import from Notion, image conversion).
- `build/`: Production bundle created by `react-scripts build`.
- `server.js`: Express SSR wrapper serving `build/` with basic redirects and SEO headers.

## Build, Test, and Development Commands
- `npm run dev`: Start CRA dev server with hot reload.
- `npm run build`: Generate blog/posts, convert images to WebP, build app, generate sitemap, and ping IndexNow.
- `npm start`: Run the SSR server (expects a prior `npm run build`).
- `npm test`: Run Jest + React Testing Library in watch mode.
- Utilities: `npm run generate-sitemap`, `npm run convert-webp`.

## Coding Style & Naming Conventions
- TypeScript throughout; prefer functional components + hooks.
- Indentation: 2 spaces; trailing commas where Prettier would add them (CRA defaults). 
- Naming: Components and Pages `PascalCase` (e.g., `Header.tsx`), utilities `camelCase` files (e.g., `slugify.ts`), CSS co-located when small.
- Linting: CRA ESLint config (`react-app` and `react-app/jest`). Avoid disabling rules; fix or justify in PR.

## Testing Guidelines
- Framework: Jest + React Testing Library. 
- Location: Colocate tests under `src/` as `*.test.tsx/ts` (e.g., `App.test.tsx`).
- Run: `npm test` or `npm test -- <pattern>`.
- Write user-centric tests (queries by role/text). Mock network as needed.

## Commit & Pull Request Guidelines
- Branching: Create feature branches from `development`; open PRs back to `development`. Maintainers merge to `main`.
- Commits: Short imperative subject (â‰¤72 chars), descriptive body if needed; reference issues (`#123`).
- PRs must include: clear summary, linked issues, screenshots for UI changes, and notes on tests/impact. Ensure `npm run build` and `npm test` pass locally.

## Security & Configuration Tips
- Use `.env` (not committed) for secrets and config: `NOTION_API_KEY`, `NOTION_BLOG_DATABASE_ID`, `REACT_APP_SHEET_CSV_URL`, `PORT`.
- Client-visible vars must be prefixed `REACT_APP_`. Rotate keys regularly. Validate external input.
